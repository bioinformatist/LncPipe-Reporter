---
title: "LncPipe Reporter"
output: github_document
always_allow_html: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, base.dir = '.', eval = FALSE)
```

A submodule for automated visualization and interactive reports.

## Motivation

This project is a part of LncPipe that take charge of automatically generating reports in `HTML` format with interactive plots based on pipeline output. It contains several ploting functions as well as analysis scripts to perform comparison analysis and differential expression analysis when experimental design information was available. We speculated this tools can facilitate understanding the underlining machanism of known and novel lncRNAs in their expriment.

## Configuration

LncPipe Reporter currently only support **Unix-like operation system**.

> Because it contains several lines of *Perl 5 one-liner* for parsing multiple log files.
I'll use pure R code instead in the future to make it a cross-platform package.

The main Rmarkdown file of LncPipe Reporter is an **R Markdown v2 document**, which need install `pandoc` first:

For Arch Linux:

```{bash}
$ sudo pacman -S pandoc
```

For those runtime environment with `RStudio` (both desktop or server version is OK) installed before or more instructions, see [the rmarkdown document](https://github.com/rstudio/rmarkdown/blob/master/PANDOC.md).

To install this package:
```{r}
install.packages("devtools")
devtools::install_github("bioinformatist/LncPipeReporter")
```

## How to use

### Try the <font color="#FF0000">simplest run</font> with default parameters

```{r}
library(LncPipeReporter)
run_reporter()
```

### Specify the parameter values with <font color="#FF0000">user-interface</font>

- In the browser: Call `rmarkdown::render` function in R Console with its `params` set to `ask`, just like:

```{r}
library(LncPipeReporter)
# DO NOT use T as short name of TRUE
run_reporter(ask = TRUE)
```

### Call with <font color="#FF0000">user-defined</font> parameter values

```{r}
library(LncPipeReporter)
run_reporter(input = system.file(file.path("extdata", "demo_results"),package = "LncPipeReporter"),
             output = 'reporter.html',
             theme = 'npg',
             cdf.percent = 10,
             max.lncrna.len = 10000,
             min.expressed.sample = 50,
             ask = FALSE)
```

### Call in <font color="#FF0000">shell scripts</font> or <font color="#FF0000">command line</font> (<font color="#FF0000">Nextflow</font>, etc.)

List the paramters with values as a R `list` object:

```{bash}
$ Rscript -e "library(LncPipeReporter); run_reporter(...)"
```

Parameters with their names and default values were listed below:

### Parameters

| Name | Default value | Description |
|-----------|--------------|-------------|
| input | `extdata/demo_results` | Absolute path of input directory (results of up-stream analysis) |
| output | `~/reporter.html` | Output file name (In HTML format) |
| theme | `npg` | Journal palette applied to all plots supplied by [ggsci](https://cran.r-project.org/web/packages/ggsci/vignettes/ggsci.html#discrete-color-palettes) |
| cdf.percent | `10%` | Percentage of values to display when calculating coding potential |
| max.lncrna.len | `10000` | Maximum length of lncRNAs to display when calculating distribution |
| min.expressed.sample | `50%` | Minimal percentage of expressed samples |

## Gallery

Coming soon.

## License

This package is free and open source software, licensed under [GPL v3.0](https://github.com/bioinformatist/multiIP/blob/master/LICENSE).
